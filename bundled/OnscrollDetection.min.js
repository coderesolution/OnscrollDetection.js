!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(t||self).OnscrollDetection=o()}(this,function(){function t(){return t=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},t.apply(this,arguments)}/*#__PURE__*/
return function(){function o(t){void 0===t&&(t={}),this.elements=t.elements||"[data-onscroll]",this.init()}return o.prototype.init=function(){var o=this;console.log("OnscrollDetection has been instanstiated"),gsap.utils.toArray(this.elements).forEach(function(e,r){var a,l=null,s=null,n="top bottom",i="bottom top";a=e;var c=[],d=[];function u(){return(1-parseFloat(e.dataset.onscrollSpeed))*(ScrollTrigger.maxScroll(window)-(this.scrollTrigger?this.scrollTrigger.start:0))}function h(){return e.hasAttribute("data-onscroll-reverse")?l?+l:null:l?-l:null}function b(){return e.hasAttribute("data-onscroll-auto"),e.hasAttribute("data-onscroll-reverse")?-s:s}e.hasAttribute("data-onscroll-from")&&(c=JSON.parse(e.dataset.onscrollFrom)),e.hasAttribute("data-onscroll-to")&&(d=JSON.parse(e.dataset.onscrollTo)),e.hasAttribute("data-onscroll-offset")&&(l=parseInt(e.dataset.onscrollOffset)),e.hasAttribute("data-onscroll-distance")&&(s=parseInt(e.dataset.onscrollDistance)),e.hasAttribute("data-onscroll-auto")&&(a=e.parentElement,s=e.offsetHeight-e.parentElement.offsetHeight),gsap.fromTo(e,t({},c,{bottom:e.hasAttribute("data-onscroll-auto")&&e.hasAttribute("data-onscroll-reverse")?"auto":null,top:e.hasAttribute("data-onscroll-auto")&&!e.hasAttribute("data-onscroll-reverse")?"auto":null,x:!e.hasAttribute("data-onscroll-direction")||"x"!==e.dataset.onscrollDirection&&"xy"!==e.dataset.onscrollDirection?null:h(),y:!e.hasAttribute("data-onscroll-direction")||e.hasAttribute("data-onscroll-direction")&&("y"===e.dataset.onscrollDirection||"xy"===e.dataset.onscrollDirection)?h():null}),t({},d,{x:function(){if(e.hasAttribute("data-onscroll-direction")&&("x"===e.dataset.onscrollDirection||"xy"===e.dataset.onscrollDirection))return e.hasAttribute("data-onscroll-speed")?u():b()},y:function(){if(!e.hasAttribute("data-onscroll-direction")||e.hasAttribute("data-onscroll-direction")&&("y"===e.dataset.onscrollDirection||"xy"===e.dataset.onscrollDirection))return e.hasAttribute("data-onscroll-speed")?u():b()},ease:"none",scrollTrigger:{trigger:e.dataset.onscrollTrigger?document.querySelector(e.dataset.onscrollTrigger):a,start:e.dataset.onscrollStart?e.dataset.onscrollStart:n,end:e.dataset.onscrollEnd?e.dataset.onscrollEnd:i,invalidateOnRefresh:!0,scrub:!0,markers:!!e.hasAttribute("data-onscroll-debug")}})),e.hasAttribute("data-onscroll-debug")&&(console.group("uOnscrollDetection() debug instance ("+(r+1)+")"),console.log({element:e,auto:!!e.hasAttribute("data-onscroll-auto"),offset:l,distance:s,speed:e.hasAttribute("data-onscroll-speed")?e.dataset.onscrollSpeed+" calculated at "+(1-parseFloat(e.dataset.onscrollSpeed))*(ScrollTrigger.maxScroll(window)-(o.scrollTrigger?o.scrollTrigger.start:0)):null,direction:e.hasAttribute("data-onscroll-direction")?e.dataset.onscrollDirection:"y",reverse:!!e.hasAttribute("data-onscroll-reverse"),trigger:a,triggerStart:n,triggerEnd:i,animateFrom:e.hasAttribute("data-onscroll-to")?JSON.parse(e.dataset.onscrollFrom):null,animateTo:e.hasAttribute("data-onscroll-to")?JSON.parse(e.dataset.onscrollTo):null}),console.groupEnd())})},o}()});
