function t(){return t=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t},t.apply(this,arguments)}var r=/*#__PURE__*/function(){function r(r){var o=this;void 0===r&&(r={}),this.init=function(){gsap.utils.toArray(o.elements).forEach(function(r,a){var e,s=null,l=[],n=[],i=null,c=null,d="top bottom",u="bottom top",g=o.screen,h=gsap.matchMedia();e=r,r.hasAttribute("data-onscroll-screen")&&(g=r.dataset.onscrollScreen),r.hasAttribute("data-onscroll-from")&&(l=JSON.parse(r.dataset.onscrollFrom)),r.hasAttribute("data-onscroll-to")&&(n=JSON.parse(r.dataset.onscrollTo)),r.hasAttribute("data-onscroll-offset")&&(i=parseInt(r.dataset.onscrollOffset)),r.hasAttribute("data-onscroll-distance")&&(c=parseInt(r.dataset.onscrollDistance));var p=function(){return(1-parseFloat(r.dataset.onscrollSpeed))*(ScrollTrigger.maxScroll(window)-(o.scrollTrigger?o.scrollTrigger.start:0))};function f(){return r.hasAttribute("data-onscroll-reverse")?i?+i:null:i?-i:null}function b(){return r.hasAttribute("data-onscroll-auto"),r.hasAttribute("data-onscroll-reverse")?-c:c}r.hasAttribute("data-onscroll-auto")&&(e=r.parentElement,c=r.offsetHeight-r.parentElement.offsetHeight);var A=t({},l,{bottom:r.hasAttribute("data-onscroll-auto")&&r.hasAttribute("data-onscroll-reverse")?"auto":null,top:r.hasAttribute("data-onscroll-auto")&&!r.hasAttribute("data-onscroll-reverse")?"auto":null,x:!r.hasAttribute("data-onscroll-direction")||"x"!==r.dataset.onscrollDirection&&"xy"!==r.dataset.onscrollDirection?null:f(),y:!r.hasAttribute("data-onscroll-direction")||r.hasAttribute("data-onscroll-direction")&&("y"===r.dataset.onscrollDirection||"xy"===r.dataset.onscrollDirection)?f():null}),m=t({},n,{x:function(){if(r.hasAttribute("data-onscroll-direction")&&("x"===r.dataset.onscrollDirection||"xy"===r.dataset.onscrollDirection))return r.hasAttribute("data-onscroll-speed")?p():b()},y:function(){if(!r.hasAttribute("data-onscroll-direction")||r.hasAttribute("data-onscroll-direction")&&("y"===r.dataset.onscrollDirection||"xy"===r.dataset.onscrollDirection))return r.hasAttribute("data-onscroll-speed")?p():b()},ease:"none",scrollTrigger:{trigger:r.dataset.onscrollTrigger?document.querySelector(r.dataset.onscrollTrigger):e,start:r.dataset.onscrollStart?r.dataset.onscrollStart:d,end:r.dataset.onscrollEnd?r.dataset.onscrollEnd:u,invalidateOnRefresh:!0,scrub:!0,markers:!!r.hasAttribute("data-onscroll-debug")}});h.add(g,function(){s=gsap.fromTo(r,A,m),o.scrollTriggers.push(s.scrollTrigger),o.animationsData.push({oElement:r,fromProperties:A,toProperties:m,gsapAnimation:s})}),r.hasAttribute("data-onscroll-debug")&&(console.group("OnscrollDetection() debug instance ("+(a+1)+")"),console.log({element:r,auto:!!r.hasAttribute("data-onscroll-auto"),offset:i,distance:c,screen:g,speed:r.hasAttribute("data-onscroll-speed")?r.dataset.onscrollSpeed+" calculated at "+(1-parseFloat(r.dataset.onscrollSpeed))*(ScrollTrigger.maxScroll(window)-(o.scrollTrigger?o.scrollTrigger.start:0)):null,direction:r.hasAttribute("data-onscroll-direction")?r.dataset.onscrollDirection:"y",reverse:!!r.hasAttribute("data-onscroll-reverse"),trigger:e,triggerStart:d,triggerEnd:u,animateFrom:r.hasAttribute("data-onscroll-to")?JSON.parse(r.dataset.onscrollFrom):null,animateTo:r.hasAttribute("data-onscroll-to")?JSON.parse(r.dataset.onscrollTo):null}),console.groupEnd())})},this.elements=r.elements||"[data-onscroll]",this.screen=r.screen||"(min-width: 768px)",this.scrollTriggers=[],this.animationsData=[],this.init()}var o=r.prototype;return o.refresh=function(){ScrollTrigger.refresh()},o.restart=function(){this.stop(),ScrollTrigger.getAll().forEach(function(t){return t.kill()}),ScrollTrigger.refresh(),this.init()},o.stop=function(t){if(void 0===t&&(t=null),t){var r=this.scrollTriggers.indexOf(t);-1!==r&&(this.animationsData[r].gsapAnimation.kill(),this.scrollTriggers.splice(r,1),this.animationsData.splice(r,1))}else this.animationsData.forEach(function(t){t.gsapAnimation.kill()}),this.scrollTriggers=[],this.animationsData=[]},r}();export{r as default};
//# sourceMappingURL=OnscrollDetection.mjs.map
